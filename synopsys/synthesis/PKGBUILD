# Maintainer: Keerthan Jaic <jckeerthan at gmail dot com>

_prodname=syn
pkgname=synopsys-$_prodname
pkgver=K_2015.06
_ftpname=${_prodname}_v${pkgver//_/-}
pkgrel=1
pkgdesc=""
arch=('x86_64')
groups=('groups')
url=""
license=('custom')
#depends=(synopsys-profile libjpeg6 libpng12)
#libmng
makedepends=(synopsys-installer)
options=(!strip libtool staticlibs emptydirs)
source=("ftp://ftp.synopsys.com/rev/$_ftpname/${_ftpname}_common.spf"
        "ftp://ftp.synopsys.com/rev/$_ftpname/${_ftpname}_linux64.spf"
        'dc.sh')
noextract=(*)

DLAGENTS=('ftp::/usr/bin/wget -O %o %u')
PKGEXT='.pkg.tar'

prepare() {
  sed -i.bak "s,_pkgver,${pkgver//_/-},g" dc.sh
}

package() {
  yes | /opt/synopsys/installer/installer -install_as_root -batch_installer -source $srcdir -target $pkgdir/opt/synopsys
  install -Dm755 $srcdir/dc.sh $pkgdir/opt/synopsys/profile.d/dc.sh
}

md5sums=('315ab589e661b5272aff9548109e1f5a'
         'a675c0db9e6e4bfa3348fe5abcb475f7'
         '32e93f95e5b7a555e880ef20912a1c56')
